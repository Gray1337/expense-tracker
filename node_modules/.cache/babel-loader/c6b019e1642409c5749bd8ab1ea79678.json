{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Gray/Desktop/\\u524D\\u7AEF\\u5DE5\\u7A0B/expense-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer,createContext}from'react';import contextReducer from'./contextReducer';var initialState=JSON.parse(localStorage.getItem('transaction'))||[];export var ExpenseTrackerContext=/*#__PURE__*/createContext(initialState);export var Provider=function Provider(_ref){var children=_ref.children;var _useReducer=useReducer(contextReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),transactions=_useReducer2[0],dispatch=_useReducer2[1];// action creators\nvar deleteTransaction=function deleteTransaction(id){return dispatch({type:'Delete',payload:id});};var addTransaction=function addTransaction(transaction){return dispatch({type:'Add',payload:transaction});};console.log('transaction',transactions);var balance=transactions.reduce(function(acc,currVal){return currVal.type==='支出'?acc-=currVal.amount:acc+=currVal.amount;},0);return/*#__PURE__*/_jsx(ExpenseTrackerContext.Provider,{value:{deleteTransaction:deleteTransaction,addTransaction:addTransaction,transactions:transactions,balance:balance},children:children});};","map":{"version":3,"sources":["C:/Users/Gray/Desktop/前端工程/expense-tracker-app/src/context/context.js"],"names":["React","useReducer","createContext","contextReducer","initialState","JSON","parse","localStorage","getItem","ExpenseTrackerContext","Provider","children","transactions","dispatch","deleteTransaction","id","type","payload","addTransaction","transaction","console","log","balance","reduce","acc","currVal","amount"],"mappings":"oOAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,aAA5B,KAAiD,OAAjD,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,GAAmD,EAAxE,CACA,MAAO,IAAMC,CAAAA,qBAAqB,cAAGP,aAAa,CAACE,YAAD,CAA3C,CAEP,MAAO,IAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAe,IAAbC,CAAAA,QAAa,MAAbA,QAAa,iBACJV,UAAU,CAACE,cAAD,CAAiBC,YAAjB,CADN,4CAC9BQ,YAD8B,iBAChBC,QADgB,iBAGrC;AACA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,EAAD,QAAQF,CAAAA,QAAQ,CAAC,CAACG,IAAI,CAAC,QAAN,CAAgBC,OAAO,CAACF,EAAxB,CAAD,CAAhB,EAA1B,CACA,GAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,WAAD,QAAiBN,CAAAA,QAAQ,CAAC,CAACG,IAAI,CAAC,KAAN,CAAaC,OAAO,CAACE,WAArB,CAAD,CAAzB,EAAvB,CAEAC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA0BT,YAA1B,EAEA,GAAMU,CAAAA,OAAO,CAAGV,YAAY,CAACW,MAAb,CAAoB,SAACC,GAAD,CAAKC,OAAL,QAAiBA,CAAAA,OAAO,CAACT,IAAR,GAAiB,IAAjB,CAAwBQ,GAAG,EAAIC,OAAO,CAACC,MAAvC,CAAgDF,GAAG,EAAIC,OAAO,CAACC,MAAhF,EAApB,CAA2G,CAA3G,CAAhB,CAEA,mBACE,KAAC,qBAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAE,CACrCZ,iBAAiB,CAAjBA,iBADqC,CAErCI,cAAc,CAAdA,cAFqC,CAGrCN,YAAY,CAAZA,YAHqC,CAIrCU,OAAO,CAAPA,OAJqC,CAAvC,UAMGX,QANH,EADF,CAUD,CArBM","sourcesContent":["import React, { useReducer, createContext } from 'react'\r\nimport contextReducer from './contextReducer'\r\n\r\nconst initialState = JSON.parse(localStorage.getItem('transaction')) || []\r\nexport const ExpenseTrackerContext = createContext(initialState)\r\n\r\nexport const Provider = ({children}) =>{\r\n  const [transactions, dispatch] = useReducer(contextReducer, initialState)\r\n  \r\n  // action creators\r\n  const deleteTransaction = (id) => dispatch({type:'Delete', payload:id})\r\n  const addTransaction = (transaction) => dispatch({type:'Add', payload:transaction})\r\n  \r\n  console.log('transaction',transactions)\r\n\r\n  const balance = transactions.reduce((acc,currVal) => currVal.type === '支出' ? acc -= currVal.amount : acc += currVal.amount,0)\r\n\r\n  return(\r\n    <ExpenseTrackerContext.Provider value={{\r\n      deleteTransaction,\r\n      addTransaction,\r\n      transactions,\r\n      balance\r\n    }}>\r\n      {children}\r\n    </ExpenseTrackerContext.Provider>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}