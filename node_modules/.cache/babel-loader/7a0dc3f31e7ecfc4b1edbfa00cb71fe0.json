{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"C:/Users/Gray/Desktop/\\u524D\\u7AEF\\u5DE5\\u7A0B/expense-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Gray/Desktop/\\u524D\\u7AEF\\u5DE5\\u7A0B/expense-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{ExpenseTrackerContext}from\"../../../context/context\";import{v4 as uuidv4}from\"uuid\";import{Row,Col,Select,InputNumber,DatePicker,Divider,Form,Button}from'antd';import moment from'moment';import{incomeCategories,expenseCategories}from\"../../../constants/categories\";var Option=Select.Option;var initialState={type:'',category:'',amount:'',date:''};var FormOpt=function FormOpt(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useContext=useContext(ExpenseTrackerContext),addTransaction=_useContext.addTransaction;var addItem=function addItem(){if(formData.type===''){alert('請選擇收入/支出');}else if(formData.category===''){alert('請選擇種類');}else if(formData.amount===''){alert('請輸入金額');}else if(formData.date===''){alert('請選擇日期');}else{var newItem=_objectSpread(_objectSpread({},formData),{},{id:uuidv4()});addTransaction(newItem);setFormData(initialState);}};// console.log(formData)\nvar selectedCategories=formData.type==='收入'?incomeCategories:expenseCategories;return/*#__PURE__*/_jsxs(Form,{style:{marginBottom:'40px'},children:[/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{required:true,label:\"\\u6536\\u5165/\\u652F\\u51FA\",style:{display:'block',marginBottom:0},children:/*#__PURE__*/_jsxs(Select,{value:formData.type,style:{width:'100%'},onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{category:'',type:e}));},children:[/*#__PURE__*/_jsx(Option,{value:\"\\u6536\\u5165\",children:\"\\u6536\\u5165\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u652F\\u51FA\",children:\"\\u652F\\u51FA\"})]})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"\\u7A2E\\u985E\",required:true,style:{display:'block',marginBottom:0},children:/*#__PURE__*/_jsx(Select,{value:formData.category,style:{width:'100%'},onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{category:e}));},children:selectedCategories.map(function(c){return/*#__PURE__*/_jsx(Option,{value:c.type,children:c.type},c.type);})})})})]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsxs(Row,{align:\"middle\",gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"\\u8F38\\u5165\\u91D1\\u984D\",style:{display:'block',marginBottom:0},required:true,children:/*#__PURE__*/_jsx(InputNumber,{type:\"Number\",value:formData.amount,style:{width:'100%'},onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{amount:e}));}})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"\\u9078\\u64C7\\u65E5\\u671F\",style:{display:'block',marginBottom:0},required:true,children:/*#__PURE__*/_jsx(DatePicker,{value:formData.date===''?'':moment(formData.date),style:{width:'100%',padding:'1px 11px'},onChange:function onChange(d,dateString){return setFormData(_objectSpread(_objectSpread({},formData),{},{date:dateString}));}})})})]})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",block:true,shape:'round',style:{height:'40px'},onClick:addItem,children:\"\\u65B0\\u589E\\u7D00\\u9304\"})})]});};export default FormOpt;","map":{"version":3,"sources":["C:/Users/Gray/Desktop/前端工程/expense-tracker-app/src/components/Main/Form/Form.js"],"names":["React","useState","useContext","ExpenseTrackerContext","v4","uuidv4","Row","Col","Select","InputNumber","DatePicker","Divider","Form","Button","moment","incomeCategories","expenseCategories","Option","initialState","type","category","amount","date","FormOpt","formData","setFormData","addTransaction","addItem","alert","newItem","id","selectedCategories","marginBottom","display","width","e","map","c","padding","d","dateString","height"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport { ExpenseTrackerContext } from \"../../../context/context\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Row, Col,  Select, InputNumber, DatePicker, Divider, Form, Button } from 'antd'\r\nimport moment from 'moment'\r\nimport { incomeCategories, expenseCategories } from \"../../../constants/categories\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst initialState = {\r\n  type:'',\r\n  category:'',\r\n  amount:'',\r\n  date:''\r\n}\r\n\r\nconst FormOpt = () => {\r\n  \r\n  const [formData, setFormData] = useState(initialState)\r\n  const {addTransaction} = useContext(ExpenseTrackerContext)\r\n  const addItem = () =>{\r\n    if(formData.type === ''){\r\n      alert('請選擇收入/支出')\r\n    }else if(formData.category === ''){\r\n      alert('請選擇種類')\r\n    }else if (formData.amount === ''){\r\n      alert('請輸入金額')\r\n    }else if ( formData.date === ''){\r\n      alert('請選擇日期')\r\n    }else {\r\n      const newItem = {...formData,id:uuidv4()}\r\n      addTransaction(newItem)\r\n      setFormData(initialState)\r\n    }\r\n  }\r\n  // console.log(formData)\r\n  const selectedCategories = formData.type === '收入' ? incomeCategories : expenseCategories\r\n\r\n  return (\r\n    <Form style={{marginBottom:'40px'}}>\r\n      <Form.Item>\r\n        <Row gutter={16}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              required\r\n              label=\"收入/支出\"\r\n              style={{display:'block', marginBottom:0}}\r\n            >\r\n              <Select value={formData.type} style={{width:'100%'}} onChange={(e)=>setFormData({...formData,category:'',type:e})}>\r\n                <Option value=\"收入\">收入</Option>\r\n                <Option value=\"支出\">支出</Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label='種類'\r\n              required={true}\r\n              style={{display:'block', marginBottom:0}}\r\n            >\r\n              <Select value={formData.category} style={{width:'100%'}} onChange={(e)=>setFormData({...formData,category:e})}>\r\n                {selectedCategories.map(c=><Option key={c.type} value={c.type}>{c.type}</Option>)}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form.Item>\r\n      <Divider/>\r\n      <Form.Item>\r\n        <Row align=\"middle\" gutter={16}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"輸入金額\"\r\n              style={{display:'block', marginBottom:0}}\r\n              required\r\n            >\r\n              <InputNumber type='Number' value={formData.amount} style={{width:'100%'}} onChange={(e)=>setFormData({...formData,amount:e})} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item \r\n              label=\"選擇日期\"\r\n              style={{display:'block', marginBottom:0}}\r\n              required={true}\r\n            >\r\n              <DatePicker \r\n                value={formData.date === '' ? '' : moment(formData.date)}\r\n                style={{width:'100%',padding:'1px 11px'}} \r\n                onChange={(d,dateString)=>setFormData({...formData, date:dateString})} \r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button type=\"primary\" block shape={'round'} style={{height:'40px'}} onClick={addItem}>新增紀錄</Button>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default FormOpt\r\n"]},"metadata":{},"sourceType":"module"}